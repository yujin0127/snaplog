<!DOCTYPE html>
<html data-theme="light" lang="ko">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>스냅로그 | Snaplog</title>
  <link rel="stylesheet" href="snaplog.css">
  <!-- 추가: EXIF 파서 -->
  <script src="https://unpkg.com/exifr/dist/exifr.min.js"></script>
  <!-- Leaflet + MarkerCluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
 </head>
 <body>
  <div class="bg">
   <!-- App -->
   <div class="panel" id="app" style="display:block">
    <div class="topbar">
     <div class="brand">스냅로그</div>
     <span class="badge" id="statAll">전체 0</span>
     <span class="badge" id="statMonth">이번 달 0</span>
     <span class="badge" id="statPhotos">사진 0</span>
     <div class="spacer"></div>
     <div class="toggle" title="다크모드">
      <span aria-hidden="true" class="label">다크모드</span>
      <label class="switch">
       <input id="darkToggleApp" type="checkbox"/>
       <span class="slider"></span>
      </label>
     </div>
    </div>
    <div class="layout" id="layout" style="display:grid">
     <aside class="card">
      <div class="section-title">달력</div>
      <div class="row small" style="margin-bottom:6px; display:flex; gap:6px; align-items:center;">
       <button class="btn ghost" id="prevM">◀︎</button>
       <div id="ym"></div>
       <button class="btn ghost" id="nextM">▶︎</button>
      </div>
      <div class="calendar" id="calendar"></div>
      <hr style="opacity:.6; margin:12px 0"/>
      <div class="section-title">최근 기록</div>
      <div class="list small" id="recent"></div>
     </aside>
     <section class="card">
      <div class="section-title">오늘의 기록</div>
      <!-- 전체지도 container -->
      <div id="allMapContainer" class="tab-content" style="display:none; margin-top:12px;">
        <div id="allMap" style="height:500px; border-radius:12px;"></div>
      </div>
      <div class="tabs">
       <div class="tab active" data-tab="diary">일기</div>
       <div class="tab" data-tab="map">지도</div>
       <div class="tab" data-tab="all-diary">전체일기</div>
      </div>
     </section>
    </div>
   </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/exifr/dist/full.umd.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- <script src="snaplog2.js"></script> -->
  <script src="snaplog4.js"></script>
  <!-- <script src="snaplog_tab.js"></script> -->
</body>
</html>